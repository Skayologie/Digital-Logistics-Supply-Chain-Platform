{
  "version": "1.0",
  "records": [
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/controller/WarehouseController.java",
      "timestamp": 1763116225897,
      "startOffset": 1066,
      "endOffset": 1115,
      "codeContent": "    @RoleRequired({\"ADMIN\",\"WAREHOUSE_MANAGER\"})\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "/RoleAspect.java",
      "timestamp": 1763116266262,
      "startOffset": 1381,
      "endOffset": 1401,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/aspects/RoleAspect.java",
      "timestamp": 1763116276925,
      "startOffset": 1386,
      "endOffset": 1410,
      "codeContent": "Missing or invalid token",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/WarehouseController.java",
      "timestamp": 1763116569596,
      "startOffset": 1071,
      "endOffset": 1120,
      "codeContent": "RoleRequired({\"ADMIN\",\"WAREHOUSE_MANAGER\"})\n    @",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116603388,
      "startOffset": 642,
      "endOffset": 691,
      "codeContent": "    @RoleRequired({\"ADMIN\",\"WAREHOUSE_MANAGER\"})\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116603410,
      "startOffset": 647,
      "endOffset": 683,
      "codeContent": "com.project.supplychain.annotations.",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116603428,
      "startOffset": 107,
      "endOffset": 163,
      "codeContent": "import com.project.supplychain.annotations.RoleRequired;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116608881,
      "startOffset": 651,
      "endOffset": 700,
      "codeContent": "    @RoleRequired({\"ADMIN\",\"WAREHOUSE_MANAGER\"})\n",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116608913,
      "startOffset": 656,
      "endOffset": 692,
      "codeContent": "com.project.supplychain.annotations.",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116608928,
      "startOffset": 107,
      "endOffset": 163,
      "codeContent": "import com.project.supplychain.annotations.RoleRequired;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116609702,
      "startOffset": 712,
      "endOffset": 748,
      "codeContent": "com.project.supplychain.annotations.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116612231,
      "startOffset": 878,
      "endOffset": 914,
      "codeContent": "com.project.supplychain.annotations.",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116612254,
      "startOffset": 107,
      "endOffset": 163,
      "codeContent": "import com.project.supplychain.annotations.RoleRequired;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116627193,
      "startOffset": 2483,
      "endOffset": 2519,
      "codeContent": "com.project.supplychain.annotations.",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/WarehouseService.java",
      "timestamp": 1763116627207,
      "startOffset": 107,
      "endOffset": 163,
      "codeContent": "import com.project.supplychain.annotations.RoleRequired;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/InventoryMovementServiceTest.java",
      "timestamp": 1763308233958,
      "startOffset": 1256,
      "endOffset": 2067,
      "codeContent": "    void createInbound_appliesQtyToInventory() {\n        InventoryMovementDTO dto \u003d new InventoryMovementDTO();\n    dto.setType(MovementType.INBOUND);\n    dto.setQuantity(5);\n    UUID invId \u003d UUID.randomUUID();\n    dto.setInventoryId(invId);\n\n        Inventory inv \u003d new Inventory();\n        inv.setId(invId);\n        inv.setQtyOnHand(10);\n\n        InventoryMovement movement \u003d new InventoryMovement();\n        movement.setId(UUID.randomUUID());\n\n        when(inventoryRepository.findById(invId)).thenReturn(Optional.of(inv));\n        when(inventoryMovementMapper.toEntity(dto)).thenReturn(movement);\n        when(inventoryMovementRepository.save(any(InventoryMovement.class))).thenReturn(movement);\n\n        var res \u003d inventoryMovementService.create(dto);\n        assertThat(res).containsKey(\"message\");\n    }\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 22
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/InventoryMovementServiceTest.java",
      "timestamp": 1763308534194,
      "startOffset": 1256,
      "endOffset": 2067,
      "codeContent": "    void createInbound_appliesQtyToInventory() {\n        InventoryMovementDTO dto \u003d new InventoryMovementDTO();\n    dto.setType(MovementType.INBOUND);\n    dto.setQuantity(5);\n    UUID invId \u003d UUID.randomUUID();\n    dto.setInventoryId(invId);\n\n        Inventory inv \u003d new Inventory();\n        inv.setId(invId);\n        inv.setQtyOnHand(10);\n\n        InventoryMovement movement \u003d new InventoryMovement();\n        movement.setId(UUID.randomUUID());\n\n        when(inventoryRepository.findById(invId)).thenReturn(Optional.of(inv));\n        when(inventoryMovementMapper.toEntity(dto)).thenReturn(movement);\n        when(inventoryMovementRepository.save(any(InventoryMovement.class))).thenReturn(movement);\n\n        var res \u003d inventoryMovementService.create(dto);\n        assertThat(res).containsKey(\"message\");\n    }\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 22
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/InventoryMovementServiceTest.java",
      "timestamp": 1763309108786,
      "startOffset": 1246,
      "endOffset": 2132,
      "codeContent": "    @Test\n    void createInbound_appliesQtyToInventory() {\n        InventoryMovementDTO dto \u003d new InventoryMovementDTO();\n        dto.setType(MovementType.INBOUND);\n        dto.setQuantity(5);\n        UUID invId \u003d UUID.randomUUID();\n        dto.setInventoryId(invId);\n\n        Inventory inv \u003d new Inventory();\n        inv.setId(invId);\n        inv.setQtyOnHand(10);\n\n        InventoryMovement movement \u003d new InventoryMovement();\n        movement.setId(UUID.randomUUID());\n        movement.setQuantity(dto.getQuantity());\n\n        when(inventoryRepository.findById(invId)).thenReturn(Optional.of(inv));\n        when(inventoryMovementMapper.toEntity(dto)).thenReturn(movement);\n        when(inventoryMovementRepository.save(any(InventoryMovement.class))).thenReturn(movement);\n\n        var res \u003d inventoryMovementService.create(dto);\n        assertThat(res).containsKey(\"message\");\n    }\n",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 24
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/DigitalLogisticsAndSupplyChainPlatformApplicationTests.java",
      "timestamp": 1763309334612,
      "startOffset": 146,
      "endOffset": 498,
      "codeContent": "(properties \u003d {\n    \"spring.datasource.url\u003djdbc:h2:mem:testdb;DB_CLOSE_DELAY\u003d-1;DB_CLOSE_ON_EXIT\u003dFALSE\",\n    \"spring.datasource.driver-class-name\u003dorg.h2.Driver\",\n    \"spring.datasource.username\u003dsa\",\n    \"spring.datasource.password\u003d\",\n    \"spring.jpa.database-platform\u003dorg.hibernate.dialect.H2Dialect\",\n    \"spring.jpa.hibernate.ddl-auto\u003dcreate-drop\"\n})",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 8
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/DigitalLogisticsAndSupplyChainPlatformApplicationTests.java",
      "timestamp": 1763310064849,
      "startOffset": 130,
      "endOffset": 576,
      "codeContent": "\n@SpringBootTest(properties \u003d {\n    \"spring.datasource.url\u003djdbc:h2:mem:testdb;DB_CLOSE_DELAY\u003d-1;DB_CLOSE_ON_EXIT\u003dFALSE\",\n    \"spring.datasource.driver-class-name\u003dorg.h2.Driver\",\n    \"spring.datasource.username\u003dsa\",\n    \"spring.datasource.password\u003d\",\n    \"spring.jpa.database-platform\u003dorg.hibernate.dialect.H2Dialect\",\n    \"spring.jpa.properties.hibernate.dialect\u003dorg.hibernate.dialect.H2Dialect\",\n    \"spring.jpa.hibernate.ddl-auto\u003dcreate-drop\"\n}",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 10
    },
    {
      "filePath": "/InventoryMovementServiceTest.java",
      "timestamp": 1763310213691,
      "startOffset": 876,
      "endOffset": 896,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/InventoryMovementServiceTest.java",
      "timestamp": 1763310217310,
      "startOffset": 876,
      "endOffset": 909,
      "codeContent": "org.springframework.test.context.",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/InventoryMovementServiceTest.java",
      "timestamp": 1763310217322,
      "startOffset": 675,
      "endOffset": 730,
      "codeContent": "import org.springframework.test.context.ActiveProfiles;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/DigitalLogisticsAndSupplyChainPlatformApplicationTests.java",
      "timestamp": 1763310278355,
      "startOffset": 133,
      "endOffset": 153,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/DigitalLogisticsAndSupplyChainPlatformApplicationTests.java",
      "timestamp": 1763310284157,
      "startOffset": 132,
      "endOffset": 165,
      "codeContent": "org.springframework.test.context.",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/DigitalLogisticsAndSupplyChainPlatformApplicationTests.java",
      "timestamp": 1763310284167,
      "startOffset": 129,
      "endOffset": 184,
      "codeContent": "import org.springframework.test.context.ActiveProfiles;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/DigitalLogisticsAndSupplyChainPlatformApplicationTests.java",
      "timestamp": 1763310899179,
      "startOffset": 130,
      "endOffset": 186,
      "codeContent": "import org.springframework.test.context.ActiveProfiles;\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/SalesOrderLineServiceTest.java",
      "timestamp": 1763314369680,
      "startOffset": 50,
      "endOffset": 7862,
      "codeContent": "com.project.supplychain.DTOs.salesOrderLineDTOs.SalesOrderLineDTO;\nimport com.project.supplychain.exceptions.BadRequestException;\nimport com.project.supplychain.mappers.SalesOrderLineMapper;\nimport com.project.supplychain.models.*;\nimport com.project.supplychain.repositories.*;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.math.BigDecimal;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass SalesOrderLineServiceTest {\n\n    @Mock\n    private SalesOrderLineRepository salesOrderLineRepository;\n\n    @Mock\n    private SalesOrderRepository salesOrderRepository;\n\n    @Mock\n    private ProductRepository productRepository;\n\n    @Mock\n    private InventoryRepository inventoryRepository;\n\n    @Mock\n    private InventoryMovementRepository inventoryMovementRepository;\n\n    @Mock\n    private SalesOrderLineMapper mapper;\n\n    @InjectMocks\n    private SalesOrderLineService service;\n\n    @Test\n    void create_fullReserve_reservesAndReturnsDto() {\n        UUID soId \u003d UUID.randomUUID();\n        UUID productId \u003d UUID.randomUUID();\n\n        SalesOrderLineDTO dto \u003d SalesOrderLineDTO.builder()\n                .salesOrderId(soId)\n                .productId(productId)\n                .quantity(3)\n                .build();\n\n        SalesOrder so \u003d new SalesOrder();\n        so.setId(soId);\n        Warehouse wh \u003d new Warehouse();\n        wh.setId(UUID.randomUUID());\n        so.setWarehouse(wh);\n\n        Product product \u003d new Product();\n        product.setId(productId);\n\n        Inventory inv \u003d new Inventory();\n        inv.setId(UUID.randomUUID());\n        inv.setProduct(product);\n        inv.setWarehouse(wh);\n        inv.setQtyOnHand(10);\n        inv.setQtyReserved(1);\n\n        SalesOrderLine entity \u003d new SalesOrderLine();\n        entity.setQuantity(3);\n\n        SalesOrderLine saved \u003d new SalesOrderLine();\n        saved.setId(UUID.randomUUID());\n        saved.setQuantity(3);\n\n        when(salesOrderRepository.findById(soId)).thenReturn(Optional.of(so));\n        when(productRepository.findById(productId)).thenReturn(Optional.of(product));\n        when(inventoryRepository.getByQtyOnHandGreaterThanAndProduct(0, product)).thenReturn(List.of(inv));\n        when(mapper.toEntity(dto)).thenReturn(entity);\n        when(salesOrderLineRepository.save(entity)).thenReturn(saved);\n        when(mapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d service.create(dto);\n\n        assertThat(res).containsKey(\"message\");\n        assertThat(res.get(\"salesOrderLine\")).isEqualTo(dto);\n\n        // qtyReserved should have been incremented by 3 -\u003e was 1 now 4\n        ArgumentCaptor\u003cInventory\u003e cap \u003d ArgumentCaptor.forClass(Inventory.class);\n        verify(inventoryRepository).save(cap.capture());\n        Inventory captured \u003d cap.getValue();\n        assertThat(captured.getQtyReserved()).isEqualTo(4);\n    }\n\n    @Test\n    void create_noInventory_throws() {\n        UUID soId \u003d UUID.randomUUID();\n        UUID productId \u003d UUID.randomUUID();\n\n        SalesOrderLineDTO dto \u003d SalesOrderLineDTO.builder()\n                .salesOrderId(soId)\n                .productId(productId)\n                .quantity(2)\n                .build();\n\n        SalesOrder so \u003d new SalesOrder();\n        so.setId(soId);\n        Warehouse wh \u003d new Warehouse();\n        wh.setId(UUID.randomUUID());\n        so.setWarehouse(wh);\n\n        Product product \u003d new Product();\n        product.setId(productId);\n\n        when(salesOrderRepository.findById(soId)).thenReturn(Optional.of(so));\n        when(productRepository.findById(productId)).thenReturn(Optional.of(product));\n        when(inventoryRepository.getByQtyOnHandGreaterThanAndProduct(0, product)).thenReturn(List.of());\n\n        assertThatThrownBy(() -\u003e service.create(dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"No inventory available\");\n    }\n\n    @Test\n    void update_adjustsReservations_whenWasReserved_andCanReserveNew() {\n        UUID lineId \u003d UUID.randomUUID();\n        UUID productId \u003d UUID.randomUUID();\n\n        SalesOrderLine existing \u003d new SalesOrderLine();\n        existing.setId(lineId);\n        existing.setQuantity(2);\n        existing.setBackorder(false);\n\n        SalesOrder so \u003d new SalesOrder();\n        so.setId(UUID.randomUUID());\n        Warehouse wh \u003d new Warehouse(); wh.setId(UUID.randomUUID()); so.setWarehouse(wh);\n        existing.setSalesOrder(so);\n\n        Product oldProduct \u003d new Product(); oldProduct.setId(UUID.randomUUID()); existing.setProduct(oldProduct);\n\n        // old inventory\n        Inventory oldInv \u003d new Inventory(); oldInv.setProduct(oldProduct); oldInv.setWarehouse(wh); oldInv.setQtyReserved(5);\n\n        // new product + inventory\n        Product newProduct \u003d new Product(); newProduct.setId(productId);\n        Inventory newInv \u003d new Inventory(); newInv.setProduct(newProduct); newInv.setWarehouse(wh); newInv.setQtyOnHand(10); newInv.setQtyReserved(1);\n\n        SalesOrderLineDTO dto \u003d SalesOrderLineDTO.builder().quantity(3).productId(productId).build();\n\n        when(salesOrderLineRepository.findById(lineId)).thenReturn(Optional.of(existing));\n        when(productRepository.findById(productId)).thenReturn(Optional.of(newProduct));\n        when(inventoryRepository.findByProduct_IdAndWarehouse_Id(oldProduct.getId(), wh.getId())).thenReturn(Optional.of(oldInv));\n        when(inventoryRepository.findByProduct_IdAndWarehouse_Id(newProduct.getId(), wh.getId())).thenReturn(Optional.of(newInv));\n        when(salesOrderLineRepository.save(existing)).thenReturn(existing);\n        when(mapper.toDTO(existing)).thenReturn(dto);\n\n        var res \u003d service.update(lineId, dto);\n\n        assertThat(res).containsKey(\"message\");\n        assertThat(res.get(\"message\")).isEqualTo(\"Sales order line updated and reserved\");\n\n        // oldInv reserved decreased by oldQty (2) -\u003e was 5 now 3\n        verify(inventoryRepository).save(oldInv);\n        assertThat(oldInv.getQtyReserved()).isEqualTo(3);\n\n        // newInv reserved increased by newQty (3) -\u003e was 1 now 4\n        verify(inventoryRepository, atLeastOnce()).save(newInv);\n        assertThat(newInv.getQtyReserved()).isEqualTo(4);\n    }\n\n    @Test\n    void delete_adjustsReservation_andDeletes() {\n        UUID lineId \u003d UUID.randomUUID();\n\n        SalesOrderLine existing \u003d new SalesOrderLine();\n        existing.setId(lineId);\n        existing.setQuantity(2);\n        existing.setBackorder(false);\n\n        SalesOrder so \u003d new SalesOrder();\n        Warehouse wh \u003d new Warehouse(); wh.setId(UUID.randomUUID()); so.setWarehouse(wh);\n        existing.setSalesOrder(so);\n\n        Product p \u003d new Product(); p.setId(UUID.randomUUID()); existing.setProduct(p);\n\n        Inventory inv \u003d new Inventory(); inv.setProduct(p); inv.setWarehouse(wh); inv.setQtyReserved(5);\n\n        when(salesOrderLineRepository.findById(lineId)).thenReturn(Optional.of(existing));\n        when(inventoryRepository.findByProduct_IdAndWarehouse_Id(p.getId(), wh.getId())).thenReturn(Optional.of(inv));\n\n        var res \u003d service.delete(lineId);\n\n        assertThat(res).containsEntry(\"message\", \"Sales order line deleted and reservation adjusted\");\n        // reservation reduced by 2 -\u003e 5 -\u003e 3\n        verify(inventoryRepository).save(inv);\n        verify(salesOrderLineRepository).delete(existing);\n        assertThat(inv.getQtyReserved()).isEqualTo(3);\n    }\n}\npackage com.project.supplychain.services;\n\nimport ",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 205
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/PurchaseOrderServiceTest.java",
      "timestamp": 1763314820498,
      "startOffset": 146,
      "endOffset": 6463,
      "codeContent": "enums.PurchaseOrderStatus;\nimport com.project.supplychain.exceptions.BadRequestException;\nimport com.project.supplychain.mappers.PurchaseOrderLineMapper;\nimport com.project.supplychain.mappers.PurchaseOrderMapper;\nimport com.project.supplychain.models.*;\nimport com.project.supplychain.models.user.WarehouseManager;\nimport com.project.supplychain.repositories.PurchaseOrderRepository;\nimport com.project.supplychain.repositories.SupplierRepository;\nimport com.project.supplychain.repositories.UserRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass PurchaseOrderServiceTest {\n\n    @Mock\n    private PurchaseOrderRepository purchaseOrderRepository;\n\n    @Mock\n    private SupplierRepository supplierRepository;\n\n    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    private PurchaseOrderMapper purchaseOrderMapper;\n\n    @Mock\n    private PurchaseOrderLineMapper purchaseOrderLineMapper;\n\n    @Mock\n    private InventoryMovementService inventoryMovementService;\n\n    @InjectMocks\n    private PurchaseOrderService service;\n\n    @Test\n    void create_success_setsDefaultsAndReturnsDto() {\n        UUID supplierId \u003d UUID.randomUUID();\n        UUID wmId \u003d UUID.randomUUID();\n\n        PurchaseOrderDTO dto \u003d PurchaseOrderDTO.builder()\n                .supplierId(supplierId)\n                .warehouseManagerId(wmId)\n                .expectedDelivery(LocalDateTime.now().plusDays(1))\n                .build();\n\n        Supplier supplier \u003d new Supplier(); supplier.setId(supplierId);\n        WarehouseManager wm \u003d new WarehouseManager(); wm.setId(wmId);\n\n        PurchaseOrder poEntity \u003d new PurchaseOrder();\n        poEntity.setExpectedDelivery(dto.getExpectedDelivery());\n\n        PurchaseOrder saved \u003d new PurchaseOrder(); saved.setId(UUID.randomUUID()); saved.setStatus(PurchaseOrderStatus.CREATED);\n\n        when(supplierRepository.findById(supplierId)).thenReturn(Optional.of(supplier));\n        when(userRepository.findById(wmId)).thenReturn(Optional.of(wm));\n        when(purchaseOrderMapper.toEntity(dto)).thenReturn(poEntity);\n        when(purchaseOrderRepository.save(poEntity)).thenReturn(saved);\n        when(purchaseOrderMapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d service.create(dto);\n\n        assertThat(res).containsEntry(\"message\", \"Purchase order created successfully\");\n        assertThat(res).containsKey(\"purchaseOrder\");\n    }\n\n    @Test\n    void create_supplierNotFound_throws() {\n        UUID supplierId \u003d UUID.randomUUID();\n        UUID wmId \u003d UUID.randomUUID();\n        PurchaseOrderDTO dto \u003d PurchaseOrderDTO.builder().supplierId(supplierId).warehouseManagerId(wmId).build();\n        when(supplierRepository.findById(supplierId)).thenReturn(Optional.empty());\n        assertThatThrownBy(() -\u003e service.create(dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"Supplier not found\");\n    }\n\n    @Test\n    void create_userNotWarehouseManager_throws() {\n        UUID supplierId \u003d UUID.randomUUID();\n        UUID wmId \u003d UUID.randomUUID();\n        PurchaseOrderDTO dto \u003d PurchaseOrderDTO.builder().supplierId(supplierId).warehouseManagerId(wmId).build();\n        Supplier supplier \u003d new Supplier(); supplier.setId(supplierId);\n        User user \u003d new User(); user.setId(wmId);\n        when(supplierRepository.findById(supplierId)).thenReturn(Optional.of(supplier));\n        when(userRepository.findById(wmId)).thenReturn(Optional.of(user));\n        assertThatThrownBy(() -\u003e service.create(dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"Provided user is not a WarehouseManager\");\n    }\n\n    @Test\n    void approve_transitionsFromCreatedToApproved() {\n        UUID id \u003d UUID.randomUUID();\n        PurchaseOrder po \u003d new PurchaseOrder(); po.setId(id); po.setStatus(PurchaseOrderStatus.CREATED);\n        when(purchaseOrderRepository.findById(id)).thenReturn(Optional.of(po));\n        when(purchaseOrderRepository.save(po)).thenReturn(po);\n\n        var res \u003d service.approve(id);\n        assertThat(res).containsEntry(\"message\", \"Purchase order approved\");\n    }\n\n    @Test\n    void receive_callsInventoryMovement_andMarksReceived() {\n        UUID id \u003d UUID.randomUUID();\n        PurchaseOrder po \u003d new PurchaseOrder(); po.setId(id); po.setStatus(PurchaseOrderStatus.APPROVED);\n        PurchaseOrderLine line \u003d new PurchaseOrderLine();\n        Inventory inv \u003d new Inventory(); inv.setId(UUID.randomUUID()); line.setInventory(inv); line.setQuantity(2);\n        po.setPurchaseOrderLines(List.of(line));\n\n        when(purchaseOrderRepository.findById(id)).thenReturn(Optional.of(po));\n        when(purchaseOrderRepository.save(po)).thenReturn(po);\n\n        var res \u003d service.receive(id);\n\n        verify(inventoryMovementService).create(any());\n        assertThat(res).containsEntry(\"message\", \"Purchase order received\");\n    }\n\n    @Test\n    void update_whenReceived_throws() {\n        UUID id \u003d UUID.randomUUID();\n        PurchaseOrder po \u003d new PurchaseOrder(); po.setId(id); po.setStatus(PurchaseOrderStatus.RECEIVED);\n        when(purchaseOrderRepository.findById(id)).thenReturn(Optional.of(po));\n        PurchaseOrderDTO dto \u003d new PurchaseOrderDTO();\n        assertThatThrownBy(() -\u003e service.update(id, dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"Cannot update a received\");\n    }\n\n    @Test\n    void delete_whenReceived_throws() {\n        UUID id \u003d UUID.randomUUID();\n        PurchaseOrder po \u003d new PurchaseOrder(); po.setId(id); po.setStatus(PurchaseOrderStatus.RECEIVED);\n        when(purchaseOrderRepository.findById(id)).thenReturn(Optional.of(po));\n        assertThatThrownBy(() -\u003e service.delete(id)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"Cannot delete a received\");\n    }\n}\npackage com.project.supplychain.services;\n\nimport com.project.supplychain.DTOs.purchaseOrderDTOs.PurchaseOrderDTO;\nimport com.project.supplychain.",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 149
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/ShipmentServiceTest.java",
      "timestamp": 1763315000761,
      "startOffset": 50,
      "endOffset": 5044,
      "codeContent": "com.project.supplychain.DTOs.shipmentDTOs.ShipmentDTO;\nimport com.project.supplychain.enums.OrderStatus;\nimport com.project.supplychain.enums.ShipmentStatus;\nimport com.project.supplychain.exceptions.BadRequestException;\nimport com.project.supplychain.mappers.ShipmentMapper;\nimport com.project.supplychain.models.Carrier;\nimport com.project.supplychain.models.SalesOrder;\nimport com.project.supplychain.models.Shipment;\nimport com.project.supplychain.repositories.CarrierRepository;\nimport com.project.supplychain.repositories.SalesOrderRepository;\nimport com.project.supplychain.repositories.ShipmentRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.time.LocalDateTime;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass ShipmentServiceTest {\n\n    @Mock\n    private ShipmentRepository shipmentRepository;\n\n    @Mock\n    private SalesOrderRepository salesOrderRepository;\n\n    @Mock\n    private CarrierRepository carrierRepository;\n\n    @Mock\n    private ShipmentMapper shipmentMapper;\n\n    @Mock\n    private CarrierService carrierService;\n\n    @InjectMocks\n    private ShipmentService service;\n\n    @Test\n    void create_success_returnsDto() {\n        UUID soId \u003d UUID.randomUUID();\n        UUID carrierId \u003d UUID.randomUUID();\n\n        ShipmentDTO dto \u003d ShipmentDTO.builder().salesOrderId(soId).carrierId(carrierId).trackingNumber(\"T123\").build();\n\n        SalesOrder so \u003d new SalesOrder(); so.setId(soId);\n        Carrier carrier \u003d new Carrier(); carrier.setId(carrierId);\n\n        Shipment entity \u003d new Shipment();\n        Shipment saved \u003d new Shipment(); saved.setId(UUID.randomUUID());\n\n        when(salesOrderRepository.findById(soId)).thenReturn(Optional.of(so));\n        when(carrierRepository.findById(carrierId)).thenReturn(Optional.of(carrier));\n        when(shipmentMapper.toEntity(dto)).thenReturn(entity);\n        when(shipmentRepository.save(entity)).thenReturn(saved);\n        when(shipmentMapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d service.create(dto);\n        assertThat(res).containsEntry(\"message\", \"Shipment created successfully\");\n    }\n\n    @Test\n    void ship_success_marksInTransit_andIncrementsCarrier() {\n        UUID id \u003d UUID.randomUUID();\n        Shipment s \u003d new Shipment(); s.setId(id); s.setStatus(ShipmentStatus.PLANNED);\n        Carrier carrier \u003d new Carrier(); carrier.setId(UUID.randomUUID()); carrier.setStatus(null);\n        s.setCarrier(carrier);\n        SalesOrder so \u003d new SalesOrder(); so.setId(UUID.randomUUID()); s.setSalesOrder(so);\n\n        when(shipmentRepository.findById(id)).thenReturn(Optional.of(s));\n        when(shipmentRepository.save(s)).thenReturn(s);\n\n        doNothing().when(carrierService).ensureCanShip(carrier);\n        doNothing().when(carrierService).incrementDailyShipments(carrier);\n\n        var res \u003d service.ship(id);\n\n        verify(carrierService).ensureCanShip(carrier);\n        verify(carrierService).incrementDailyShipments(carrier);\n        verify(salesOrderRepository).save(so);\n        assertThat(res).containsEntry(\"message\", \"Shipment marked as IN_TRANSIT\");\n    }\n\n    @Test\n    void ship_noCarrier_throws() {\n        UUID id \u003d UUID.randomUUID();\n        Shipment s \u003d new Shipment(); s.setId(id); s.setStatus(ShipmentStatus.PLANNED); s.setCarrier(null);\n        when(shipmentRepository.findById(id)).thenReturn(Optional.of(s));\n        assertThatThrownBy(() -\u003e service.ship(id)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"Shipment has no carrier assigned\");\n    }\n\n    @Test\n    void deliver_success_marksDelivered() {\n        UUID id \u003d UUID.randomUUID();\n        Shipment s \u003d new Shipment(); s.setId(id); s.setStatus(ShipmentStatus.IN_TRANSIT);\n        SalesOrder so \u003d new SalesOrder(); so.setId(UUID.randomUUID()); s.setSalesOrder(so);\n        when(shipmentRepository.findById(id)).thenReturn(Optional.of(s));\n        when(shipmentRepository.save(s)).thenReturn(s);\n\n        var res \u003d service.deliver(id);\n\n        verify(salesOrderRepository).save(so);\n        assertThat(res).containsEntry(\"message\", \"Shipment marked as DELIVERED\");\n    }\n\n    @Test\n    void update_notPlanned_throws() {\n        UUID id \u003d UUID.randomUUID();\n        Shipment s \u003d new Shipment(); s.setId(id); s.setStatus(ShipmentStatus.IN_TRANSIT);\n        when(shipmentRepository.findById(id)).thenReturn(Optional.of(s));\n        ShipmentDTO dto \u003d new ShipmentDTO();\n        assertThatThrownBy(() -\u003e service.update(id, dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"Only PLANNED shipments can be updated\");\n    }\n}\npackage com.project.supplychain.services;\n\nimport ",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 126
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/SupplierServiceTest.java",
      "timestamp": 1763315045892,
      "startOffset": 50,
      "endOffset": 3483,
      "codeContent": "com.project.supplychain.DTOs.supplierDTOs.SupplierDTO;\nimport com.project.supplychain.mappers.SupplierMapper;\nimport com.project.supplychain.models.Supplier;\nimport com.project.supplychain.repositories.SupplierRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass SupplierServiceTest {\n\n    @Mock\n    private SupplierRepository supplierRepository;\n\n    @Mock\n    private SupplierMapper supplierMapper;\n\n    @InjectMocks\n    private SupplierService supplierService;\n\n    @Test\n    void createSupplier_success_returnsDto() {\n        SupplierDTO dto \u003d new SupplierDTO(); dto.setName(\"S1\");\n        Supplier entity \u003d new Supplier();\n        Supplier saved \u003d new Supplier(); saved.setId(UUID.randomUUID()); saved.setName(\"S1\");\n\n        when(supplierMapper.toEntity(dto)).thenReturn(entity);\n        when(supplierRepository.save(entity)).thenReturn(saved);\n        when(supplierMapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d supplierService.createSupplier(dto);\n        assertThat(res).containsKey(\"message\");\n        assertThat(res.get(\"supplier\")).isEqualTo(dto);\n    }\n\n    @Test\n    void getSupplier_notFound_throws() {\n        UUID id \u003d UUID.randomUUID();\n        when(supplierRepository.findById(id)).thenReturn(Optional.empty());\n        assertThatThrownBy(() -\u003e supplierService.getSupplier(id)).isInstanceOf(RuntimeException.class);\n    }\n\n    @Test\n    void listSuppliers_returnsList() {\n        Supplier s \u003d new Supplier(); s.setId(UUID.randomUUID()); s.setName(\"S\");\n        SupplierDTO dto \u003d new SupplierDTO(); dto.setName(\"S\");\n        when(supplierRepository.findAll()).thenReturn(List.of(s));\n        when(supplierMapper.toDTO(s)).thenReturn(dto);\n\n        var res \u003d supplierService.listSuppliers();\n        assertThat(res).containsKey(\"suppliers\");\n    }\n\n    @Test\n    void updateSupplier_success_updatesAndReturns() {\n        UUID id \u003d UUID.randomUUID();\n        Supplier existing \u003d new Supplier(); existing.setId(id); existing.setName(\"Old\");\n        SupplierDTO dto \u003d new SupplierDTO(); dto.setName(\"New\"); dto.setContactInfo(\"C\");\n        Supplier saved \u003d new Supplier(); saved.setId(id); saved.setName(\"New\"); saved.setContactInfo(\"C\");\n\n        when(supplierRepository.findById(id)).thenReturn(Optional.of(existing));\n        when(supplierRepository.save(existing)).thenReturn(saved);\n        when(supplierMapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d supplierService.updateSupplier(id, dto);\n        assertThat(res).containsEntry(\"message\", \"Supplier updated successfully\");\n        assertThat(res.get(\"supplier\")).isEqualTo(dto);\n    }\n\n    @Test\n    void deleteSupplier_success_deletes() {\n        UUID id \u003d UUID.randomUUID();\n        Supplier existing \u003d new Supplier(); existing.setId(id);\n        when(supplierRepository.findById(id)).thenReturn(Optional.of(existing));\n\n        var res \u003d supplierService.deleteSupplier(id);\n        assertThat(res).containsEntry(\"message\", \"Supplier deleted successfully\");\n        verify(supplierRepository).delete(existing",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 88
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/WarehouseServiceTest.java",
      "timestamp": 1763315318869,
      "startOffset": 50,
      "endOffset": 3494,
      "codeContent": "com.project.supplychain.DTOs.warehouseDTOs.WarehouseDTO;\nimport com.project.supplychain.exceptions.BadRequestException;\nimport com.project.supplychain.mappers.WarehouseMapper;\nimport com.project.supplychain.models.Warehouse;\nimport com.project.supplychain.models.user.WarehouseManager;\nimport com.project.supplychain.repositories.UserRepository;\nimport com.project.supplychain.repositories.WarehouseRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass WarehouseServiceTest {\n\n    @Mock\n    private WarehouseRepository warehouseRepository;\n\n    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    private WarehouseMapper warehouseMapper;\n\n    @InjectMocks\n    private WarehouseService service;\n\n    @Test\n    void create_success_savesAndReturnsDto() {\n        UUID mgrId \u003d UUID.randomUUID();\n        WarehouseDTO dto \u003d new WarehouseDTO(); dto.setCode(\"W1\"); dto.setName(\"W\"); dto.setWarehouseManagerId(mgrId);\n\n        WarehouseManager mgr \u003d new WarehouseManager(); mgr.setId(mgrId);\n        Warehouse entity \u003d new Warehouse();\n        Warehouse saved \u003d new Warehouse(); saved.setId(UUID.randomUUID());\n\n        when(userRepository.findById(mgrId)).thenReturn(Optional.of(mgr));\n        when(warehouseRepository.existsByCode(dto.getCode())).thenReturn(false);\n        when(warehouseMapper.toEntity(dto)).thenReturn(entity);\n        when(warehouseRepository.save(entity)).thenReturn(saved);\n        when(warehouseMapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d service.create(dto);\n        assertThat(res).containsKey(\"message\");\n        assertThat(res.get(\"warehouse\")).isEqualTo(dto);\n        verify(userRepository).save(mgr);\n    }\n\n    @Test\n    void create_missingManager_throws() {\n        WarehouseDTO dto \u003d new WarehouseDTO(); dto.setCode(\"W1\"); dto.setName(\"W\"); dto.setWarehouseManagerId(null);\n        assertThatThrownBy(() -\u003e service.create(dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"warehouse manager is required\");\n    }\n\n    @Test\n    void create_duplicateCode_throws() {\n        UUID mgrId \u003d UUID.randomUUID();\n        WarehouseDTO dto \u003d new WarehouseDTO(); dto.setCode(\"W1\"); dto.setWarehouseManagerId(mgrId);\n        WarehouseManager mgr \u003d new WarehouseManager(); mgr.setId(mgrId);\n        when(userRepository.findById(mgrId)).thenReturn(Optional.of(mgr));\n        when(warehouseRepository.existsByCode(dto.getCode())).thenReturn(true);\n        assertThatThrownBy(() -\u003e service.create(dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"warehouse code is already exist\");\n    }\n\n    @Test\n    void delete_existing_deletesSuccessfully() {\n        UUID id \u003d UUID.randomUUID();\n        Warehouse existing \u003d new Warehouse(); existing.setId(id);\n        when(warehouseRepository.findById(id)).thenReturn(Optional.of(existing));\n        var res \u003d service.delete(id);\n        assertThat(res).containsEntry(\"message\", \"Warehouse deleted successfully\");\n        verify(warehouseRepository).delete(existing);\n    }\n}\npackage com.project.supplychain.services;\n\nimport ",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 85
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/InventoryServiceTest.java",
      "timestamp": 1763315364094,
      "startOffset": 353,
      "endOffset": 4566,
      "codeContent": "models.Warehouse;\nimport com.project.supplychain.repositories.InventoryRepository;\nimport com.project.supplychain.repositories.ProductRepository;\nimport com.project.supplychain.repositories.WarehouseRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass InventoryServiceTest {\n\n    @Mock\n    private InventoryRepository inventoryRepository;\n\n    @Mock\n    private ProductRepository productRepository;\n\n    @Mock\n    private WarehouseRepository warehouseRepository;\n\n    @Mock\n    private InventoryMapper inventoryMapper;\n\n    @InjectMocks\n    private InventoryService service;\n\n    @Test\n    void create_success_returnsDto() {\n        UUID productId \u003d UUID.randomUUID();\n        UUID warehouseId \u003d UUID.randomUUID();\n        InventoryDTO dto \u003d new InventoryDTO(); dto.setProductId(productId); dto.setWarehouseId(warehouseId); dto.setQtyOnHand(10); dto.setQtyReserved(2);\n\n        Product p \u003d new Product(); p.setId(productId);\n        Warehouse w \u003d new Warehouse(); w.setId(warehouseId);\n        Inventory entity \u003d new Inventory();\n        Inventory saved \u003d new Inventory(); saved.setId(UUID.randomUUID()); saved.setQtyOnHand(10); saved.setQtyReserved(2);\n\n        when(productRepository.findById(productId)).thenReturn(Optional.of(p));\n        when(warehouseRepository.findById(warehouseId)).thenReturn(Optional.of(w));\n        when(inventoryMapper.toEntity(dto)).thenReturn(entity);\n        when(inventoryRepository.save(entity)).thenReturn(saved);\n        when(inventoryMapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d service.create(dto);\n        assertThat(res).containsKey(\"message\");\n        assertThat(res.get(\"inventory\")).isEqualTo(dto);\n    }\n\n    @Test\n    void create_invalidQuantities_throws() {\n        InventoryDTO dto \u003d new InventoryDTO(); dto.setQtyOnHand(1); dto.setQtyReserved(5);\n        assertThatThrownBy(() -\u003e service.create(dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"qtyReserved cannot exceed qtyOnHand\");\n    }\n\n    @Test\n    void get_notFound_throws() {\n        UUID id \u003d UUID.randomUUID();\n        when(inventoryRepository.findById(id)).thenReturn(Optional.empty());\n        assertThatThrownBy(() -\u003e service.get(id)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"Inventory not found\");\n    }\n\n    @Test\n    void update_changesProductAndWarehouse_andSaves() {\n        UUID id \u003d UUID.randomUUID();\n        UUID newProductId \u003d UUID.randomUUID();\n        UUID newWarehouseId \u003d UUID.randomUUID();\n\n        Inventory existing \u003d new Inventory(); existing.setId(id); existing.setQtyOnHand(10); existing.setQtyReserved(2);\n        InventoryDTO dto \u003d new InventoryDTO(); dto.setQtyOnHand(7); dto.setQtyReserved(1); dto.setProductId(newProductId); dto.setWarehouseId(newWarehouseId);\n\n        Product p \u003d new Product(); p.setId(newProductId);\n        Warehouse w \u003d new Warehouse(); w.setId(newWarehouseId);\n\n        when(inventoryRepository.findById(id)).thenReturn(Optional.of(existing));\n        when(productRepository.findById(newProductId)).thenReturn(Optional.of(p));\n        when(warehouseRepository.findById(newWarehouseId)).thenReturn(Optional.of(w));\n        when(inventoryRepository.save(existing)).thenReturn(existing);\n        when(inventoryMapper.toDTO(existing)).thenReturn(dto);\n\n        var res \u003d service.update(id, dto);\n        assertThat(res).containsEntry(\"message\", \"Inventory updated successfully\");\n        assertThat(res.get(\"inventory\")).isEqualTo(dto);\n    }\n}\npackage com.project.supplychain.services;\n\nimport com.project.supplychain.DTOs.inventoryDTOs.InventoryDTO;\nimport com.project.supplychain.exceptions.BadRequestException;\nimport com.project.supplychain.mappers.InventoryMapper;\nimport com.project.supplychain.models.Inventory;\nimport com.project.supplychain.models.Product;\nimport com.project.supplychain.",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 101
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/SalesOrderServiceTest.java",
      "timestamp": 1763315411036,
      "startOffset": 140,
      "endOffset": 4051,
      "codeContent": "exceptions.BadRequestException;\nimport com.project.supplychain.mappers.SalesOrderMapper;\nimport com.project.supplychain.models.SalesOrder;\nimport com.project.supplychain.models.Warehouse;\nimport com.project.supplychain.models.user.Client;\nimport com.project.supplychain.repositories.InventoryRepository;\nimport com.project.supplychain.repositories.SalesOrderRepository;\nimport com.project.supplychain.repositories.UserRepository;\nimport com.project.supplychain.repositories.WarehouseRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.time.LocalDateTime;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass SalesOrderServiceTest {\n\n    @Mock\n    private SalesOrderRepository salesOrderRepository;\n\n    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    private WarehouseRepository warehouseRepository;\n\n    @Mock\n    private InventoryRepository inventoryRepository;\n\n    @Mock\n    private SalesOrderMapper salesOrderMapper;\n\n    @InjectMocks\n    private SalesOrderService service;\n\n    @Test\n    void create_success_setsReservedAndReturnsDto() {\n        UUID clientId \u003d UUID.randomUUID();\n        UUID warehouseId \u003d UUID.randomUUID();\n\n        SalesOrderDTO dto \u003d new SalesOrderDTO();\n        dto.setClientId(clientId);\n        dto.setWarehouseId(warehouseId);\n\n        Client client \u003d new Client(); client.setId(clientId);\n        Warehouse w \u003d new Warehouse(); w.setId(warehouseId);\n\n        SalesOrder entity \u003d new SalesOrder();\n        SalesOrder saved \u003d new SalesOrder(); saved.setId(UUID.randomUUID()); saved.setStatus(null); saved.setCreatedAt(LocalDateTime.now());\n\n        when(userRepository.findById(clientId)).thenReturn(Optional.of(client));\n        when(warehouseRepository.getById(warehouseId)).thenReturn(w);\n        when(salesOrderMapper.toEntity(dto)).thenReturn(entity);\n        when(salesOrderRepository.save(entity)).thenReturn(saved);\n        when(salesOrderMapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d service.create(dto);\n        assertThat(res).containsEntry(\"message\", \"Sales order created successfully\");\n        assertThat(res).containsKey(\"salesOrder\");\n    }\n\n    @Test\n    void create_missingClient_throws() {\n        SalesOrderDTO dto \u003d new SalesOrderDTO(); dto.setClientId(null);\n        assertThatThrownBy(() -\u003e service.create(dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"clientId is required\");\n    }\n\n    @Test\n    void create_userNotClient_throws() {\n        UUID clientId \u003d UUID.randomUUID();\n        SalesOrderDTO dto \u003d new SalesOrderDTO(); dto.setClientId(clientId); dto.setWarehouseId(UUID.randomUUID());\n        // return a WarehouseManager instead of Client\n        var wm \u003d new com.project.supplychain.models.user.WarehouseManager(); wm.setId(clientId);\n        when(userRepository.findById(clientId)).thenReturn(Optional.of(wm));\n        assertThatThrownBy(() -\u003e service.create(dto)).isInstanceOf(BadRequestException.class).hasMessageContaining(\"Provided user is not a client\");\n    }\n\n    @Test\n    void delete_existing_deletes() {\n        UUID id \u003d UUID.randomUUID();\n        SalesOrder existing \u003d new SalesOrder(); existing.setId(id);\n        when(salesOrderRepository.findById(id)).thenReturn(Optional.of(existing));\n        var res \u003d service.delete(id);\n        assertThat(res).containsEntry(\"message\", \"Sales order deleted successfully\");\n        verify(salesOrderRepository).delete(existing);\n    }\n}\npackage com.project.supplychain.services;\n\nimport com.project.supplychain.DTOs.salesOrderDTOs.SalesOrderDTO;\nimport com.project.supplychain.",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 100
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/SalesOrderServiceTest.java",
      "timestamp": 1763316132216,
      "startOffset": 2557,
      "endOffset": 5557,
      "codeContent": "package com.project.supplychain.services;\n\n        import com.project.supplychain.DTOs.salesOrderDTOs.SalesOrderDTO;\n        import com.project.supplychain.mappers.SalesOrderMapper;\n        import com.project.supplychain.models.SalesOrder;\n        import com.project.supplychain.models.user.Client;\n        import com.project.supplychain.models.user.User;\n        import com.project.supplychain.models.Warehouse;\n        import com.project.supplychain.repositories.InventoryRepository;\n        import com.project.supplychain.repositories.SalesOrderRepository;\n        import com.project.supplychain.repositories.UserRepository;\n        import com.project.supplychain.repositories.WarehouseRepository;\n        import org.junit.jupiter.api.Test;\n        import org.junit.jupiter.api.extension.ExtendWith;\n        import org.mockito.InjectMocks;\n        import org.mockito.Mock;\n        import org.mockito.junit.jupiter.MockitoExtension;\n\n        import java.time.LocalDateTime;\n        import java.util.Optional;\n        import java.util.UUID;\n\n        import static org.assertj.core.api.Assertions.assertThat;\n        import static org.mockito.ArgumentMatchers.any;\n        import static org.mockito.Mockito.when;\n\n        @ExtendWith(MockitoExtension.class)\n        class SalesOrderServiceTest {\n\n            @Mock\n            private SalesOrderRepository salesOrderRepository;\n\n            @Mock\n            private UserRepository userRepository;\n\n            @Mock\n            private WarehouseRepository warehouseRepository;\n\n            @Mock\n            private InventoryRepository inventoryRepository;\n\n            @Mock\n            private SalesOrderMapper salesOrderMapper;\n\n            @InjectMocks\n            private SalesOrderService salesOrderService;\n\n            @Test\n            void createSalesOrder_success() {\n                UUID clientId \u003d UUID.randomUUID();\n                UUID warehouseId \u003d UUID.randomUUID();\n\n                SalesOrderDTO dto \u003d new SalesOrderDTO();\n                dto.setClientId(clientId);\n                dto.setWarehouseId(warehouseId);\n                dto.setCreatedAt(LocalDateTime.now());\n\n                Client client \u003d new Client();\n                client.setId(clientId);\n\n                SalesOrder toSave \u003d new SalesOrder();\n\n                SalesOrder saved \u003d new SalesOrder();\n                saved.setId(UUID.randomUUID());\n\n                when(userRepository.findById(clientId)).thenReturn(Optional.of((User) client));\n                when(warehouseRepository.getById(warehouseId)).thenReturn(new Warehouse());\n                when(salesOrderMapper.toEntity(dto)).thenReturn(toSave);\n                when(salesOrderRepository.save(any(SalesOrder.class))).thenReturn(saved);\n                when(salesOrderMapper.toDTO(saved)).thenReturn(dto);\n\n                var res \u003d salesOrderService.create(dto);\n                assertThat(res).containsKey(\"message\");\n                assertThat(res).containsKey(\"salesOrder\");\n            }\n        ",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 76
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/SalesOrderServiceTest.java",
      "timestamp": 1763316327559,
      "startOffset": 4108,
      "endOffset": 5153,
      "codeContent": "package com.project.supplychain.services;\n\nimport com.project.supplychain.DTOs.salesOrderDTOs.SalesOrderDTO;\nimport com.project.supplychain.mappers.SalesOrderMapper;\nimport com.project.supplychain.models.SalesOrder;\nimport com.project.supplychain.models.user.Client;\nimport com.project.supplychain.models.user.User;\nimport com.project.supplychain.models.Warehouse;\nimport com.project.supplychain.repositories.InventoryRepository;\nimport com.project.supplychain.repositories.SalesOrderRepository;\nimport com.project.supplychain.repositories.UserRepository;\nimport com.project.supplychain.repositories.WarehouseRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.time.LocalDateTime;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.when;\n",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 26
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/PurchaseOrderServiceUpdateTest.java",
      "timestamp": 1763316850062,
      "startOffset": 602,
      "endOffset": 5081,
      "codeContent": "models.user.Client;\nimport com.project.supplychain.repositories.PurchaseOrderRepository;\nimport com.project.supplychain.repositories.SupplierRepository;\nimport com.project.supplychain.repositories.UserRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.time.LocalDateTime;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.when;\n\n@ExtendWith(MockitoExtension.class)\nclass PurchaseOrderServiceUpdateTest {\n\n    @Mock\n    private PurchaseOrderRepository purchaseOrderRepository;\n\n    @Mock\n    private SupplierRepository supplierRepository;\n\n    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    private PurchaseOrderMapper purchaseOrderMapper;\n\n    @Mock\n    private PurchaseOrderLineMapper purchaseOrderLineMapper;\n\n    @InjectMocks\n    private PurchaseOrderService purchaseOrderService;\n\n    private PurchaseOrder makePO(UUID id, PurchaseOrderStatus status, UUID supplierId, UUID wmId) {\n        PurchaseOrder po \u003d new PurchaseOrder();\n        po.setId(id);\n        po.setStatus(status);\n        Supplier s \u003d null;\n        if (supplierId !\u003d null) {\n            s \u003d new Supplier();\n            s.setId(supplierId);\n            po.setSupplier(s);\n        }\n        if (wmId !\u003d null) {\n            WarehouseManager wm \u003d new WarehouseManager();\n            wm.setId(wmId);\n            po.setWarehouseManager(wm);\n        }\n        po.setExpectedDelivery(LocalDateTime.now().plusDays(5));\n        return po;\n    }\n\n    @Test\n    void update_success_changes_expectedDelivery_and_supplier_and_manager_when_needed() {\n        UUID poId \u003d UUID.randomUUID();\n        UUID oldSupplierId \u003d UUID.randomUUID();\n        UUID newSupplierId \u003d UUID.randomUUID();\n        UUID oldWmId \u003d UUID.randomUUID();\n        UUID newWmId \u003d UUID.randomUUID();\n\n        PurchaseOrder existing \u003d makePO(poId, PurchaseOrderStatus.CREATED, oldSupplierId, oldWmId);\n\n        PurchaseOrderDTO dto \u003d new PurchaseOrderDTO();\n        dto.setExpectedDelivery(LocalDateTime.now().plusDays(10));\n        dto.setSupplierId(newSupplierId);\n        dto.setWarehouseManagerId(newWmId);\n\n        Supplier newSupplier \u003d new Supplier();\n        newSupplier.setId(newSupplierId);\n\n        WarehouseManager newWm \u003d new WarehouseManager();\n        newWm.setId(newWmId);\n\n        PurchaseOrder saved \u003d makePO(poId, PurchaseOrderStatus.CREATED, newSupplierId, newWmId);\n\n        when(purchaseOrderRepository.findById(poId)).thenReturn(Optional.of(existing));\n        when(supplierRepository.findById(newSupplierId)).thenReturn(Optional.of(newSupplier));\n        when(userRepository.findById(newWmId)).thenReturn(Optional.of((User) newWm));\n        when(purchaseOrderRepository.save(existing)).thenReturn(saved);\n        when(purchaseOrderMapper.toDTO(saved)).thenReturn(new com.project.supplychain.DTOs.purchaseOrderDTOs.PurchaseOrderDTO());\n\n        var res \u003d purchaseOrderService.update(poId, dto);\n\n        assertThat(res).containsKey(\"message\");\n        assertThat(res).containsKey(\"purchaseOrder\");\n    }\n\n    @Test\n    void update_throws_when_supplier_not_found() {\n        UUID poId \u003d UUID.randomUUID();\n        UUID newSupplierId \u003d UUID.randomUUID();\n\n        PurchaseOrder existing \u003d makePO(poId, PurchaseOrderStatus.CREATED, UUID.randomUUID(), UUID.randomUUID());\n\n        PurchaseOrderDTO dto \u003d new PurchaseOrderDTO();\n        dto.setSupplierId(newSupplierId);\n\n        when(purchaseOrderRepository.findById(poId)).thenReturn(Optional.of(existing));\n        when(supplierRepository.findById(newSupplierId)).thenReturn(Optional.empty());\n\n        assertThatThrownBy(() -\u003e purchaseOrderService.update(poId, dto))\n                .isInstanceOf(BadRequestException.class)\n                .hasMessageContaining(\"Supplier not found\");\n    }\n\n    @Test\n    void update_throws_when_user_not_warehouseManager() {\n        UUID poId \u003d UUID.randomUUID();\n        UUID newWmId \u003d UUID.randomUUID();\n\n        PurchaseOrder existing \u003d makePO(poId, PurchaseOrderStatus.CREATED, UUID.randomUUID(), UUID.randomUUID());\n\n        PurchaseOrderDTO dto \u003d new PurchaseOrderDTO();\n        dto.setWarehouseManagerId(newWmId);\n\n    Client notWm \u003d new Client();\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 124
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/services/PurchaseOrderServiceFullTest.java",
      "timestamp": 1763317195507,
      "startOffset": 870,
      "endOffset": 4992,
      "codeContent": "models.user.Client;\nimport com.project.supplychain.repositories.PurchaseOrderRepository;\nimport com.project.supplychain.repositories.SupplierRepository;\nimport com.project.supplychain.repositories.UserRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.assertj.core.api.Assertions.assertThatThrownBy;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\nclass PurchaseOrderServiceFullTest {\n\n    @Mock\n    private PurchaseOrderRepository purchaseOrderRepository;\n\n    @Mock\n    private SupplierRepository supplierRepository;\n\n    @Mock\n    private UserRepository userRepository;\n\n    @Mock\n    private PurchaseOrderMapper purchaseOrderMapper;\n\n    @Mock\n    private PurchaseOrderLineMapper purchaseOrderLineMapper;\n\n    @Mock\n    private InventoryMovementService inventoryMovementService;\n\n    @InjectMocks\n    private PurchaseOrderService purchaseOrderService;\n\n    private PurchaseOrder makePO(UUID id, PurchaseOrderStatus status) {\n        PurchaseOrder po \u003d new PurchaseOrder();\n        po.setId(id);\n        po.setStatus(status);\n        po.setCreatedAt(LocalDateTime.now());\n        po.setExpectedDelivery(LocalDateTime.now().plusDays(3));\n        return po;\n    }\n\n    @Test\n    void create_success_sets_fields_and_returns_dto() {\n        UUID supplierId \u003d UUID.randomUUID();\n        UUID wmId \u003d UUID.randomUUID();\n\n        PurchaseOrderDTO dto \u003d new PurchaseOrderDTO();\n        dto.setSupplierId(supplierId);\n        dto.setWarehouseManagerId(wmId);\n        dto.setExpectedDelivery(LocalDateTime.now().plusDays(7));\n\n        Supplier supplier \u003d new Supplier();\n        supplier.setId(supplierId);\n\n        WarehouseManager wm \u003d new WarehouseManager();\n        wm.setId(wmId);\n\n        PurchaseOrder toSave \u003d new PurchaseOrder();\n        PurchaseOrder saved \u003d makePO(UUID.randomUUID(), PurchaseOrderStatus.CREATED);\n\n        when(supplierRepository.findById(supplierId)).thenReturn(Optional.of(supplier));\n    when(userRepository.findById(wmId)).thenReturn(Optional.of((com.project.supplychain.models.user.User) wm));\n        // userRepository returns a WarehouseManager instance; cast is fine on runtime\n        when(purchaseOrderMapper.toEntity(dto)).thenReturn(toSave);\n        when(purchaseOrderRepository.save(toSave)).thenReturn(saved);\n        when(purchaseOrderMapper.toDTO(saved)).thenReturn(dto);\n\n        var res \u003d purchaseOrderService.create(dto);\n\n        assertThat(res).containsKey(\"message\");\n        assertThat(res).containsKey(\"purchaseOrder\");\n        verify(purchaseOrderRepository).save(toSave);\n    }\n\n    @Test\n    void create_throws_when_supplier_missing_or_user_missing_or_user_not_wm() {\n        UUID supplierId \u003d UUID.randomUUID();\n        UUID wmId \u003d UUID.randomUUID();\n\n        PurchaseOrderDTO dto \u003d new PurchaseOrderDTO();\n        dto.setSupplierId(supplierId);\n        dto.setWarehouseManagerId(wmId);\n\n        when(supplierRepository.findById(supplierId)).thenReturn(Optional.empty());\n        assertThatThrownBy(() -\u003e purchaseOrderService.create(dto))\n                .isInstanceOf(BadRequestException.class)\n                .hasMessageContaining(\"Supplier not found\");\n\n        // supplier found but user missing\n        when(supplierRepository.findById(supplierId)).thenReturn(Optional.of(new Supplier()));\n        when(userRepository.findById(wmId)).thenReturn(Optional.empty());\n        assertThatThrownBy(() -\u003e purchaseOrderService.create(dto))\n                .isInstanceOf(BadRequestException.class)\n                .hasMessageContaining(\"Warehouse manager not found\");\n\n        // user found but not WarehouseManager\n    when(userRepository.findById(wmId)).thenReturn(Optional.of((com.project.supplychain.models.user.User) new Clien",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 110
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/controller/ProductControllerTest.java",
      "timestamp": 1763318076137,
      "startOffset": 56,
      "endOffset": 2082,
      "codeContent": "project.supplychain.DTOs.productDTOs.ProductDTO;\nimport com.project.supplychain.services.ProductService;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.http.ResponseEntity;\n\nimport java.util.HashMap;\nimport java.util.UUID;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.ArgumentMatchers.any;\nimport static org.mockito.Mockito.when;\n\n@ExtendWith(MockitoExtension.class)\nclass ProductControllerTest {\n\n    @Mock\n    ProductService service;\n\n    @InjectMocks\n    ProductController controller;\n\n    @Test\n    void create_list_get_byId_get_bySku_update_delete() {\n        when(service.createProduct(any())).thenReturn(new HashMap\u003c\u003e());\n        when(service.listProducts()).thenReturn(new HashMap\u003c\u003e());\n        when(service.getProduct(any())).thenReturn(new HashMap\u003c\u003e());\n        when(service.getProductBySku(any())).thenReturn(new HashMap\u003c\u003e());\n        when(service.updateProduct(any(), any())).thenReturn(new HashMap\u003c\u003e());\n        when(service.deleteProduct(any())).thenReturn(new HashMap\u003c\u003e());\n\n        ResponseEntity\u003c?\u003e r1 \u003d controller.create(new ProductDTO());\n        ResponseEntity\u003c?\u003e r2 \u003d controller.list();\n        ResponseEntity\u003c?\u003e r3 \u003d controller.get(UUID.randomUUID());\n        ResponseEntity\u003c?\u003e r4 \u003d controller.get(\"sku123\");\n        ResponseEntity\u003c?\u003e r5 \u003d controller.update(UUID.randomUUID(), new ProductDTO());\n        ResponseEntity\u003c?\u003e r6 \u003d controller.delete(UUID.randomUUID());\n\n        assertThat(r1.getStatusCodeValue()).isEqualTo(200);\n        assertThat(r2.getStatusCodeValue()).isEqualTo(200);\n        assertThat(r3.getStatusCodeValue()).isEqualTo(200);\n        assertThat(r4.getStatusCodeValue()).isEqualTo(200);\n        assertThat(r5.getStatusCodeValue()).isEqualTo(200);\n        assertThat(r6.getStatusCodeValue()).isEqualTo(200);\n    }\n}\npackage com.project.supplychain.controller;\n\nimport com.",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 52
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/test/java/com/project/supplychain/DigitalLogisticsAndSupplyChainPlatformApplicationTests.java",
      "timestamp": 1763318626094,
      "startOffset": 130,
      "endOffset": 210,
      "codeContent": "import org.springframework.test.context.ActiveProfiles;\n\n@ActiveProfiles(\"test\")",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 3
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763370617116,
      "startOffset": 0,
      "endOffset": 73,
      "codeContent": "package com.project.supplychain.config;\n\npublic class SecurityConfig {\n}\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 5
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763370628596,
      "startOffset": 41,
      "endOffset": 2374,
      "codeContent": "import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    /**\n     * Bean 1: PasswordEncoder\n     * This is still needed so Spring can compare the\n     * password from the request with the hashed password in the database.\n     */\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    /**\n     * NOTE: The InMemoryUserDetailsManager bean is GONE.\n     * * Spring Boot will automatically detect your \"CustomUserDetailsService\"\n     * (because it\u0027s a @Service and implements UserDetailsService)\n     * and use it for authentication.\n     */\n\n    /**\n     * Bean 2: SecurityFilterChain\n     * This part stays exactly the same as before.\n     * It just defines the rules. It doesn\u0027t care *where* the users come from.\n     */\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -\u003e csrf.disable())\n                .sessionManagement(session -\u003e\n                        session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                )\n                .authorizeHttpRequests(auth -\u003e auth\n                        .requestMatchers(\"/api/admin/**\").hasRole(\"ADMIN\")\n                        .requestMatchers(\"/api/products/**\").hasRole(\"ADMIN\")\n                        .requestMatchers(\"/api/inventory/**\").hasRole(\"WAREHOUSE_MANAGER\")\n                        .requestMatchers(\"/api/shipments/**\").hasRole(\"WAREHOUSE_MANAGER\")\n                        .requestMatchers(\"/api/orders/**\").hasRole(\"CLIENT\")\n                        .anyRequest().authenticated()\n                )\n                .httpBasic(Customizer.withDefaults());\n\n        return http.build();\n    }\n}",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 56
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763370640776,
      "startOffset": 191,
      "endOffset": 211,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763384763473,
      "startOffset": 1846,
      "endOffset": 2130,
      "codeContent": "dmin/**\").hasRole(\"ADMIN\")\n                        .requestMatchers(\"/api/inventory/**\").hasRole(\"WAREHOUSE_MANAGER\")\n                        .requestMatchers(\"/api/shipments/**\").hasRole(\"WAREHOUSE_MANAGER\")\n                        .requestMatchers(\"/api/orders/**\").hasRole(\"CLIENT\"",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 4
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763384806535,
      "startOffset": 1026,
      "endOffset": 1072,
      "codeContent": "org.springframework.security.core.userdetails.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763384806558,
      "startOffset": 452,
      "endOffset": 524,
      "codeContent": "import org.springframework.security.core.userdetails.UserDetailsService;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763384815649,
      "startOffset": 452,
      "endOffset": 517,
      "codeContent": "import org.springframework.security.core.userdetails.UserDetails;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763384818687,
      "startOffset": 452,
      "endOffset": 510,
      "codeContent": "import org.springframework.security.core.userdetails.User;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763384821384,
      "startOffset": 792,
      "endOffset": 868,
      "codeContent": "import org.springframework.security.provisioning.InMemoryUserDetailsManager;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763387476033,
      "startOffset": 2420,
      "endOffset": 2440,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388076842,
      "startOffset": 0,
      "endOffset": 72,
      "codeContent": "package com.project.supplychain.config;\n\npublic class JwtAuthFilter {\n}\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 5
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388085420,
      "startOffset": 41,
      "endOffset": 1093,
      "codeContent": "@Component\n@RequiredArgsConstructor\npublic class JwtAuthFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final CustomUserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        String authHeader \u003d request.getHeader(\"Authorization\");\n\n        if (authHeader \u003d\u003d null || !authHeader.startsWith(\"Bearer \")) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        String token \u003d authHeader.substring(7);\n        String email \u003d jwtService.extractEmail(token);\n\n        UserDetails user \u003d userDetailsService.loadUserByUsername(email);\n\n        UsernamePasswordAuthenticationToken auth \u003d\n                new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\n\n        SecurityContextHolder.getContext().setAuthentication(auth);\n\n        filterChain.doFilter(request, response);\n    }\n}",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 31
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388088827,
      "startOffset": 41,
      "endOffset": 112,
      "codeContent": "import org.springframework.security.core.context.SecurityContextHolder;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388090980,
      "startOffset": 905,
      "endOffset": 949,
      "codeContent": "org.springframework.security.authentication.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388090995,
      "startOffset": 41,
      "endOffset": 128,
      "codeContent": "import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388094537,
      "startOffset": 200,
      "endOffset": 265,
      "codeContent": "import org.springframework.security.core.userdetails.UserDetails;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388385307,
      "startOffset": 305,
      "endOffset": 353,
      "codeContent": "import org.springframework.stereotype.Component;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388387734,
      "startOffset": 354,
      "endOffset": 413,
      "codeContent": "import org.springframework.web.filter.OncePerRequestFilter;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388444694,
      "startOffset": 41,
      "endOffset": 88,
      "codeContent": "import jakarta.servlet.http.HttpServletRequest;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388446935,
      "startOffset": 89,
      "endOffset": 137,
      "codeContent": "import jakarta.servlet.http.HttpServletResponse;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388449186,
      "startOffset": 41,
      "endOffset": 76,
      "codeContent": "import jakarta.servlet.FilterChain;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/JwtAuthFilter.java",
      "timestamp": 1763388481663,
      "startOffset": 692,
      "endOffset": 712,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/JwtAuthFilter.java",
      "timestamp": 1763388497860,
      "startOffset": 41,
      "endOffset": 80,
      "codeContent": "import com.project.supplychain.JWT.JWT;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388557917,
      "startOffset": 0,
      "endOffset": 85,
      "codeContent": "package com.project.supplychain.services;\n\npublic class CustomUserDetailsService {\n}\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 5
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388568858,
      "startOffset": 43,
      "endOffset": 624,
      "codeContent": "@Service\n@RequiredArgsConstructor\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    private final UserRepository repo;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        AppUser user \u003d repo.findByEmail(email)\n                .orElseThrow(() -\u003e new UsernameNotFoundException(\"User not found\"));\n\n        return User.builder()\n                .username(user.getEmail())\n                .password(user.getPassword())\n                .roles(user.getRole().name())\n                .build();\n    }\n}",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 18
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388574411,
      "startOffset": 43,
      "endOffset": 89,
      "codeContent": "import org.springframework.stereotype.Service;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388576198,
      "startOffset": 43,
      "endOffset": 81,
      "codeContent": "import lombok.RequiredArgsConstructor;",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388579593,
      "startOffset": 82,
      "endOffset": 154,
      "codeContent": "import org.springframework.security.core.userdetails.UserDetailsService;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388586074,
      "startOffset": 43,
      "endOffset": 102,
      "codeContent": "import com.project.supplychain.repositories.UserRepository;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388591801,
      "startOffset": 142,
      "endOffset": 207,
      "codeContent": "import org.springframework.security.core.userdetails.UserDetails;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388593631,
      "startOffset": 551,
      "endOffset": 597,
      "codeContent": "org.springframework.security.core.userdetails.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388593645,
      "startOffset": 281,
      "endOffset": 360,
      "codeContent": "import org.springframework.security.core.userdetails.UsernameNotFoundException;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388595614,
      "startOffset": 807,
      "endOffset": 853,
      "codeContent": "org.springframework.security.core.userdetails.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763388595626,
      "startOffset": 142,
      "endOffset": 200,
      "codeContent": "import org.springframework.security.core.userdetails.User;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/CustomUserDetailsService.java",
      "timestamp": 1763390083370,
      "startOffset": 843,
      "endOffset": 959,
      "codeContent": " user \u003d repo.findByEmail(email)\n                .orElseThrow(() -\u003e new UsernameNotFoundException(\"User not found\"));",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/repositories/UserRepository.java",
      "timestamp": 1763390100075,
      "startOffset": 305,
      "endOffset": 354,
      "codeContent": "    Optional\u003cAppUser\u003e findByEmail(String email);\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/repositories/UserRepository.java",
      "timestamp": 1763390109016,
      "startOffset": 209,
      "endOffset": 235,
      "codeContent": "import java.util.Optional;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763390170895,
      "startOffset": 466,
      "endOffset": 492,
      "codeContent": "import java.util.Optional;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/CustomUserDetailsService.java",
      "timestamp": 1763390172523,
      "startOffset": 731,
      "endOffset": 871,
      "codeContent": "nal\u003cUIntellijIdeaRulezzz\u003e user \u003d repo.findByEmail(email)\n                .orElseThrow(() -\u003e new UsernameNotFoundException(\"User not found\"))",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/services/CustomUserDetailsService.java",
      "timestamp": 1763390281614,
      "startOffset": 43,
      "endOffset": 91,
      "codeContent": "import com.project.supplychain.models.user.User;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/CustomUserDetailsService.java",
      "timestamp": 1763390284906,
      "startOffset": 730,
      "endOffset": 845,
      "codeContent": " user \u003d repo.findByEmail(email)\n                .orElseThrow(() -\u003e new UsernameNotFoundException(\"User not found\"))",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "/CustomUserDetailsService.java",
      "timestamp": 1763390284907,
      "startOffset": 110,
      "endOffset": 146,
      "codeContent": "com.project.supplychain.repositories",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390473401,
      "startOffset": 0,
      "endOffset": 71,
      "codeContent": "package com.project.supplychain.models.user;\n\npublic class AppUser {\n}\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 5
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390476979,
      "startOffset": 0,
      "endOffset": 309,
      "codeContent": "@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class AppUser {\n\n    @Id\n    @GeneratedValue(strategy \u003d GenerationType.UUID)\n    private String id;\n\n    @Column(unique \u003d true)\n    private String email;\n\n    private String password;\n\n    @Enumerated(EnumType.STRING)\n    private Role role;",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 18
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390480086,
      "startOffset": 46,
      "endOffset": 358,
      "codeContent": "@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class AppUser {\n\n    @Id\n    @GeneratedValue(strategy \u003d GenerationType.UUID)\n    private String id;\n\n    @Column(unique \u003d true)\n    private String email;\n\n    private String password;\n\n    @Enumerated(EnumType.STRING)\n    private Role role;\n}\n",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 20
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390482185,
      "startOffset": 46,
      "endOffset": 80,
      "codeContent": "import jakarta.persistence.Entity;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/_Dummy_.java",
      "timestamp": 1763390491999,
      "startOffset": 44,
      "endOffset": 66,
      "codeContent": "java.lang.String email",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/_Dummy_.java",
      "timestamp": 1763390492003,
      "startOffset": 58,
      "endOffset": 83,
      "codeContent": "java.lang.String password",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390493185,
      "startOffset": 81,
      "endOffset": 114,
      "codeContent": "import lombok.AllArgsConstructor;",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390496479,
      "startOffset": 81,
      "endOffset": 111,
      "codeContent": "import jakarta.persistence.Id;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390498275,
      "startOffset": 81,
      "endOffset": 123,
      "codeContent": "import jakarta.persistence.GeneratedValue;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390499989,
      "startOffset": 124,
      "endOffset": 166,
      "codeContent": "import jakarta.persistence.GenerationType;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390506148,
      "startOffset": 46,
      "endOffset": 75,
      "codeContent": "import jakarta.persistence.*;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/AppUser.java",
      "timestamp": 1763390509336,
      "startOffset": 491,
      "endOffset": 511,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/models/user/AppUser.java",
      "timestamp": 1763390511540,
      "startOffset": 46,
      "endOffset": 89,
      "codeContent": "import com.project.supplychain.enums.Roles;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/repositories/UserRepository.java",
      "timestamp": 1763390612506,
      "startOffset": 47,
      "endOffset": 97,
      "codeContent": "import com.project.supplychain.models.SalesOrder;\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/repositories/UserRepository.java",
      "timestamp": 1763390613247,
      "startOffset": 47,
      "endOffset": 97,
      "codeContent": "import com.project.supplychain.models.SalesOrder;\n",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563497855,
      "startOffset": 0,
      "endOffset": 73,
      "codeContent": "package com.project.supplychain.config;\n\npublic class SecurityConfig {\n}\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 5
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563504596,
      "startOffset": 0,
      "endOffset": 1322,
      "codeContent": "@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final AuthenticationProvider authenticationProvider;\n\n    public SecurityConfig(AuthenticationProvider provider) {\n        this.authenticationProvider \u003d provider;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http\n            .csrf(csrf -\u003e csrf.disable())\n            .cors(Customizer.withDefaults())\n            .sessionManagement(sess -\u003e\n                    sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .authenticationProvider(authenticationProvider)\n            .httpBasic(Customizer.withDefaults())\n            .authorizeHttpRequests(auth -\u003e auth\n\n                .requestMatchers(\"/api/admin/**\").hasRole(\"ADMIN\")\n                .requestMatchers(\"/api/products/**\").hasRole(\"ADMIN\")\n\n                .requestMatchers(\"/api/inventory/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\")\n\n                .requestMatchers(\"/api/shipments/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\")\n\n                .requestMatchers(\"/api/orders/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\", \"CLIENT\")\n\n                .anyRequest().authenticated()\n            );\n\n        return http.build();\n    }",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 39
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563509261,
      "startOffset": 41,
      "endOffset": 1366,
      "codeContent": "@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final AuthenticationProvider authenticationProvider;\n\n    public SecurityConfig(AuthenticationProvider provider) {\n        this.authenticationProvider \u003d provider;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http\n            .csrf(csrf -\u003e csrf.disable())\n            .cors(Customizer.withDefaults())\n            .sessionManagement(sess -\u003e\n                    sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n            .authenticationProvider(authenticationProvider)\n            .httpBasic(Customizer.withDefaults())\n            .authorizeHttpRequests(auth -\u003e auth\n\n                .requestMatchers(\"/api/admin/**\").hasRole(\"ADMIN\")\n                .requestMatchers(\"/api/products/**\").hasRole(\"ADMIN\")\n\n                .requestMatchers(\"/api/inventory/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\")\n\n                .requestMatchers(\"/api/shipments/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\")\n\n                .requestMatchers(\"/api/orders/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\", \"CLIENT\")\n\n                .anyRequest().authenticated()\n            );\n\n        return http.build();\n    }\n}\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 41
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563519517,
      "startOffset": 41,
      "endOffset": 101,
      "codeContent": "import org.springframework.context.annotation.Configuration;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563522840,
      "startOffset": 101,
      "endOffset": 191,
      "codeContent": "import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563524639,
      "startOffset": 277,
      "endOffset": 321,
      "codeContent": "org.springframework.security.authentication.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563524661,
      "startOffset": 102,
      "endOffset": 176,
      "codeContent": "import org.springframework.security.authentication.AuthenticationProvider;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563526656,
      "startOffset": 267,
      "endOffset": 327,
      "codeContent": "import org.springframework.security.web.SecurityFilterChain;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563528720,
      "startOffset": 41,
      "endOffset": 92,
      "codeContent": "import org.springframework.context.annotation.Bean;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563530562,
      "startOffset": 682,
      "endOffset": 742,
      "codeContent": "org.springframework.security.config.annotation.web.builders.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563530603,
      "startOffset": 229,
      "endOffset": 309,
      "codeContent": "import org.springframework.security.config.annotation.web.builders.HttpSecurity;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563534191,
      "startOffset": 229,
      "endOffset": 283,
      "codeContent": "import org.springframework.security.config.Customizer;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563536009,
      "startOffset": 1059,
      "endOffset": 1100,
      "codeContent": "org.springframework.security.config.http.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763563536029,
      "startOffset": 456,
      "endOffset": 526,
      "codeContent": "import org.springframework.security.config.http.SessionCreationPolicy;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564831336,
      "startOffset": 724,
      "endOffset": 820,
      "codeContent": "  @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 4
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564835148,
      "startOffset": 527,
      "endOffset": 595,
      "codeContent": "import org.springframework.security.crypto.password.PasswordEncoder;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564837117,
      "startOffset": 857,
      "endOffset": 900,
      "codeContent": "org.springframework.security.crypto.bcrypt.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564837156,
      "startOffset": 527,
      "endOffset": 599,
      "codeContent": "import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763564865965,
      "startOffset": 1446,
      "endOffset": 1466,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564873044,
      "startOffset": 527,
      "endOffset": 606,
      "codeContent": "import org.springframework.security.core.userdetails.UsernameNotFoundException;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564874847,
      "startOffset": 1101,
      "endOffset": 1138,
      "codeContent": "com.project.supplychain.repositories.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564874868,
      "startOffset": 41,
      "endOffset": 100,
      "codeContent": "import com.project.supplychain.repositories.UserRepository;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564878690,
      "startOffset": 587,
      "endOffset": 659,
      "codeContent": "import org.springframework.security.core.userdetails.UserDetailsService;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564890912,
      "startOffset": 587,
      "endOffset": 645,
      "codeContent": "import org.springframework.security.core.userdetails.User;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/repositories/UserRepository.java",
      "timestamp": 1763564911706,
      "startOffset": 302,
      "endOffset": 357,
      "codeContent": "    Optional\u003cAppUser\u003e findByUsername(String username);\n",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/repositories/UserRepository.java",
      "timestamp": 1763564913139,
      "startOffset": 305,
      "endOffset": 360,
      "codeContent": "    Optional\u003cAppUser\u003e findByUsername(String username);\n",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/repositories/UserRepository.java",
      "timestamp": 1763564921647,
      "startOffset": 209,
      "endOffset": 235,
      "codeContent": "import java.util.Optional;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763564925268,
      "startOffset": 499,
      "endOffset": 544,
      "codeContent": "annotation.web.configuration.EnableWebSecurit",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763564925268,
      "startOffset": 526,
      "endOffset": 809,
      "codeContent": "\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 5
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763564925269,
      "startOffset": 265,
      "endOffset": 300,
      "codeContent": "authentication.AuthenticationProvid",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564949130,
      "startOffset": 1401,
      "endOffset": 1447,
      "codeContent": "org.springframework.security.core.userdetails.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564951006,
      "startOffset": 1343,
      "endOffset": 1389,
      "codeContent": "org.springframework.security.core.userdetails.",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564951016,
      "startOffset": 587,
      "endOffset": 645,
      "codeContent": "import org.springframework.security.core.userdetails.User;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763564962672,
      "startOffset": 41,
      "endOffset": 91,
      "codeContent": "import com.project.supplychain.models.user.Client;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763565209647,
      "startOffset": 1337,
      "endOffset": 2048,
      "codeContent": "@Bean\n    public UserDetailsService userDetailsService(PasswordEncoder encoder) {\n\n        UserDetails admin \u003d User.withUsername(\"admin\")\n                .password(encoder.encode(\"admin123\"))\n                .roles(\"ADMIN\")   // Spring \u003d\u003e ROLE_ADMIN\n                .build();\n\n        UserDetails manager \u003d User.withUsername(\"manager\")\n                .password(encoder.encode(\"manager123\"))\n                .roles(\"WAREHOUSE_MANAGER\")\n                .build();\n\n        UserDetails client \u003d User.withUsername(\"client\")\n                .password(encoder.encode(\"client123\"))\n                .roles(\"CLIENT\")\n                .build();\n\n        return new InMemoryUserDetailsManager(admin, manager, client);\n    }",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 20
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763565241338,
      "startOffset": 697,
      "endOffset": 762,
      "codeContent": "import org.springframework.security.core.userdetails.UserDetails;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763565243537,
      "startOffset": 1058,
      "endOffset": 1134,
      "codeContent": "import org.springframework.security.provisioning.InMemoryUserDetailsManager;",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763565764392,
      "startOffset": 2632,
      "endOffset": 2665,
      "codeContent": "                        // ADMIN\n",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763565845075,
      "startOffset": 3289,
      "endOffset": 3313,
      "codeContent": "                        ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763565860948,
      "startOffset": 1739,
      "endOffset": 3161,
      "codeContent": "// 3. Basic Authentication + endpoint protection\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http\n                .csrf(csrf -\u003e csrf.disable()) // REST API \u003d\u003e CSRF disabled\n                .cors(cors -\u003e cors.disable())\n                .sessionManagement(sm -\u003e sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .httpBasic(Customizer.withDefaults()) // BASIC AUTH ENABLED\n                .authorizeHttpRequests(auth -\u003e auth\n\n                        // ADMIN\n                        .requestMatchers(\"/api/admin/**\").hasRole(\"ADMIN\")\n                        .requestMatchers(\"/api/products/**\").hasRole(\"ADMIN\")\n\n                        // Manager\n                        .requestMatchers(\"/api/inventory/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\")\n                        .requestMatchers(\"/api/shipments/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\")\n\n                        // Client + others\n                        .requestMatchers(\"/api/orders/**\")\n                        .hasAnyRole(\"ADMIN\", \"WAREHOUSE_MANAGER\", \"CLIENT\")\n\n                        .requestMatchers(\"/api/salesOrders/IntellijIdeaRulezzz \").permitAll()\n                        \n                        // default rule\n                        .anyRequest().authenticated()\n                );\n\n        return http.build()",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 32
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763565860948,
      "startOffset": 1293,
      "endOffset": 1941,
      "codeContent": "PasswordEncoder encoder) {\n\n        UserDetails admin \u003d User.withUsername(\"admin\")\n                .password(encoder.encode(\"admin123\"))\n                .roles(\"ADMIN\")   // Spring \u003d\u003e ROLE_ADMIN\n                .build();\n\n        UserDetails manager \u003d User.withUsername(\"manager\")\n                .password(encoder.encode(\"manager123\"))\n                .roles(\"WAREHOUSE_MANAGER\")\n                .build();\n\n        UserDetails client \u003d User.withUsername(\"client\")\n                .password(encoder.encode(\"client123\"))\n                .roles(\"CLIENT\")\n                .build();\n\n        return new InMemoryUserDetailsManager(admin, manager, client",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 18
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763565860949,
      "startOffset": 940,
      "endOffset": 1159,
      "codeContent": "\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 4
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763565860950,
      "startOffset": 559,
      "endOffset": 604,
      "codeContent": "annotation.web.configuration.EnableWebSecurit",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763565860951,
      "startOffset": 325,
      "endOffset": 360,
      "codeContent": "authentication.AuthenticationProvid",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763565943478,
      "startOffset": 2701,
      "endOffset": 2725,
      "codeContent": "                        ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763565945175,
      "startOffset": 2655,
      "endOffset": 2695,
      "codeContent": "                    // PUBLIC ENDPOINTS\n",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763565945191,
      "startOffset": 2675,
      "endOffset": 2699,
      "codeContent": "                        ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763566137099,
      "startOffset": 2490,
      "endOffset": 2534,
      "codeContent": "                        // PUBLIC ENDPOINTS\n",
      "aiProbability": 70,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "/AuthController.java",
      "timestamp": 1763712243524,
      "startOffset": 1844,
      "endOffset": 1864,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763712319509,
      "startOffset": 2118,
      "endOffset": 2351,
      "codeContent": ".logout(logout -\u003e logout\n                    .logoutUrl(\"/logout\")\n                    .logoutSuccessUrl(\"/login?logout\")\n                    .invalidateHttpSession(true)\n                    .deleteCookies(\"JSESSIONID\")\n            )",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 6
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763712323818,
      "startOffset": 2181,
      "endOffset": 2201,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763712697181,
      "startOffset": 1920,
      "endOffset": 1950,
      "codeContent": ".csrf(csrf -\u003e csrf.disable()) ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763712702852,
      "startOffset": 1962,
      "endOffset": 1992,
      "codeContent": ".csrf(csrf -\u003e csrf.disable()) ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763712707569,
      "startOffset": 1962,
      "endOffset": 1992,
      "codeContent": ".csrf(csrf -\u003e csrf.disable()) ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "S:/Spring Core/Digital Logistics And Supply Chain Platform/src/main/java/com/project/supplychain/config/SecurityConfig.java",
      "timestamp": 1763712819347,
      "startOffset": 2433,
      "endOffset": 2745,
      "codeContent": "        .logoutSuccessHandler((request, response, authentication) -\u003e {\n            response.setContentType(\"application/json\");\n            response.setCharacterEncoding(\"UTF-8\");\n            response.setStatus(200);\n            response.getWriter().write(\"{\\\"message\\\":\\\"Logged out successfully\\\"}\");\n        })",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 6
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763712840645,
      "startOffset": 2360,
      "endOffset": 2721,
      "codeContent": "(request, response, authentication) -\u003e {\n                            response.setContentType(\"application/json\");\n                            response.setCharacterEncoding(\"UTF-8\");\n                            response.setStatus(200);\n                            response.getWriter().write(\"{\\\"message\\\":\\\"Logged out successfully\\\"}\");\n                        }",
      "aiProbability": 95,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 6
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763712840647,
      "startOffset": 1899,
      "endOffset": 1945,
      "codeContent": "\n                .cors(cors -\u003e cors.disable())",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 2
    },
    {
      "filePath": "/ProductServiceTest.java",
      "timestamp": 1763733641349,
      "startOffset": 818,
      "endOffset": 838,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    },
    {
      "filePath": "/SecurityConfig.java",
      "timestamp": 1763738222149,
      "startOffset": 2080,
      "endOffset": 2100,
      "codeContent": "IntellijIdeaRulezzz ",
      "aiProbability": 90,
      "aiTool": "AI Assistant",
      "detectionMethod": "REALTIME_SPEED_ANALYSIS",
      "lineCount": 1
    }
  ],
  "toolStats": {
    "AI Assistant": {
      "usageCount": 156,
      "totalLines": 1817
    }
  }
}